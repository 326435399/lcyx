<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="StrawBear" content="记录一个学习者的过程">
        <title>20240415-Unity3D游戏开发</title>
        <link rel="stylesheet" href="../../../1_CSS/basicStyle.css">
    </head>
    <body>
        <header><h1>20240415-Unity3D游戏开发</h1></header>     
        <article><h2>9.持久化数据</h2>
            <section><h3>9.4.6 文件流</h3></section>
            <div>
                创建和写入,使用using(){}将FileStream包裹起来,这样括号内的代码执行完毕之后作用域就结束了,会自动把里面的内容全部销毁,文件流也就销毁了,不会占用内存<br>
                <img src="../../../0_Resoureces/img/learningPicture/20240415/7_Unity3DGameDevelopment_Csharp/01_创建和写入.png" alt=""><br>
                <br>
                读取<br>
                <img src="../../../0_Resoureces/img/learningPicture/20240415/7_Unity3DGameDevelopment_Csharp/02_读取.png" alt=""><br>
                <br>
                文件读写确实方便,但是比较占内存:写入之前需要把数据全部保存在内存之中,读取也是,所以我们可以分配一个固定大小的buffer缓冲区来一点点读取,而不用一次性全部加载.<br>
            </div>
            <section><h3>9.4.7 打包后读写文本<br>
                9.4.8 PersistentDataPath目录</h3></section>
            <div>
                三个资源目录<br>
                Resources:Unity认识的资源,转换成Object使用,只读<br>
                StreamingAssets:不改变格式,外部资源文件,只读<br>
                PersistentDataPath:可以动态读写的目录<br>
                <img src="../../../0_Resoureces/img/learningPicture/20240415/7_Unity3DGameDevelopment_Csharp/03_三个资源目录.png" alt=""><br>
            </div>
            <section><h3>9.5.1 创建XML字符串</h3></section>
            <div>
                XML是extensible markup language可扩展标记语言的简称.<br>
                使用:引用System.xml命名空间,然后创建XmlDocument对象,就可以添加数据了<br>
                <img src="../../../0_Resoureces/img/learningPicture/20240415/7_Unity3DGameDevelopment_Csharp/04_XML使用.png" alt=""><br>
            </div>
            <section><h3>9.5.2 读取与修改</h3></section>
            <div>
                读取与修改xml<br>
                <img src="../../../0_Resoureces/img/learningPicture/20240415/7_Unity3DGameDevelopment_Csharp/05_读取与修改.png" alt=""><br>
            </div>
            <section><h3>9.5.3 XML文件</h3></section>
            <div>
                读取与修改<br>
                <img src="../../../0_Resoureces/img/learningPicture/20240415/7_Unity3DGameDevelopment_Csharp/07_读取XML.png" alt=""><br>
                <br>
                写到本地<br>
                <img src="../../../0_Resoureces/img/learningPicture/20240415/7_Unity3DGameDevelopment_Csharp/06_xml写到本地.png" alt=""><br>
            </div>
            <section><h3>9.5.4 XML与JSON的转换</h3></section>
            <div>
                <img src="../../../0_Resoureces/img/learningPicture/20240415/7_Unity3DGameDevelopment_Csharp/08_XML和JSON互转.png" alt=""><br>
            </div>
            <section><h3>9.6.1 YamlDotNet</h3></section>
            <div>
                XML和JSON都有一个问题,就是对格式要求很严格,编辑很麻烦,YAML则数据和变量通过冒号来连接,预览性和编辑性都很好,Unity就是这么干的.<br>
                YAML提供的.NET库插件YamlDotNet<br>
            </div>
            <section><h3>9.6.2 序列化和反序列化</h3></section>
            <div>
                想要序列化和反序列的变量必须要设置get或set<br>
                <img src="../../../0_Resoureces/img/learningPicture/20240415/7_Unity3DGameDevelopment_Csharp/09_序列化和反序列化YAML.png" alt=""><br>
            </div>
            <section><h3>9.7.1 把数据从Excel表导出到数据库</h3></section>
            <div>
                <img src="../../../0_Resoureces/img/learningPicture/20240415/7_Unity3DGameDevelopment_Csharp/10_读取Excel导出到数据库1.png" alt=""><br>
                <img src="../../../0_Resoureces/img/learningPicture/20240415/7_Unity3DGameDevelopment_Csharp/11_读取Excel导出到数据库2.png" alt=""><br>

            </div>
            <section><h3>9.7.2 运行时读取数据</h3></section>
            <div>
                <img src="../../../0_Resoureces/img/learningPicture/20240415/7_Unity3DGameDevelopment_Csharp/12_读取数据库.png" alt=""><br>
            </div>
            <section><h3>9.7.3 RazorEngine<br>
                9.7.4 生成代码的条件<br>
                9.7.5 模板文件</h3></section>
            <div>
                RazorEngine可以方便的替换模板中的字符串<br>
                <img src="../../../0_Resoureces/img/learningPicture/20240415/7_Unity3DGameDevelopment_Csharp/13_模板设置1.png" alt=""><br>
                <img src="../../../0_Resoureces/img/learningPicture/20240415/7_Unity3DGameDevelopment_Csharp/14_遍历替换.png" alt=""><br>
                <img src="../../../0_Resoureces/img/learningPicture/20240415/7_Unity3DGameDevelopment_Csharp/15_生成文件.png" alt=""><br>
            </div>
        </article>
        <footer><a href="../../../../index.html">首页</a></footer>
        <script>
            document.write(document.lastModified);
        </script>
    </body>
</html>