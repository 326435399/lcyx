!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/screen/components/",n(n.s=14)}([function(e,t,n){"use strict";var r=n(1),o=n(2),a={value:"数值轴",category:"类目轴",time:"时间轴",log:"对数轴"},i={end:"居末",start:"居首",middle:"居中(一)",center:"居中(二)"},c={start:"开始",end:"结束"},u=(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e})({},c,{center:"居中"});n.d(t,"d",function(){return s}),n.d(t,"c",function(){return f}),n.d(t,"e",function(){return p}),n.d(t,"f",function(){return d}),n.d(t,"g",function(){return y}),n.d(t,"l",function(){return b}),n.d(t,"m",function(){return m}),n.d(t,"h",function(){return g}),n.d(t,"i",function(){return h}),n.d(t,"j",function(){return v}),n.d(t,"k",function(){return O}),n.d(t,"n",function(){return j}),n.d(t,"o",function(){return x}),n.d(t,"p",function(){return w}),n.d(t,"b",function(){return E}),n.d(t,"a",function(){return C});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=["#3891FF","#60B7FF","#00C1FF","#1FDFE9","#FACF14","#E36D6F","#8F4EED","#B8E986","#FF2366","#F5A623"],f="#13183000",p="#9aabbd",d='"Helvetica Neue", "Helvetica", "Arial", sans-serif',y=1.5,b="#aaa",m="#2f4554",g={top:"10%",bottom:"10%",left:"10%",right:"10%"},h=l({color:p,fontStyle:Object.keys(o.a)[0],fontWeight:Object.keys(o.b)[0],fontFamily:"sans-serif",fontSize:18,textAlign:"auto",textVerticalAlign:"auto"},g),v={show:!0,top:10,left:10,target:Object.keys(o.h)[0],subtarget:Object.keys(o.h)[0]},O={show:!0,width:20,type:Object.keys(o.d)[0],orient:Object.keys(o.c)[0]},j={show:!0,showContent:!0,alwaysShowContent:!1,confine:!1,enterable:!1,hideDelay:100,trigger:Object.keys({axis:"axis",item:"item",none:"none"})[1]},x={show:!0,position:Object.keys({bottom:"下方",top:"上方"})[0],type:Object.keys(a)[1],nameGap:15,nameLocation:Object.keys(i)[0],axisLabel:{formatter:function(e,t){return e}},splitArea:{show:!0,interval:"auto",areaStyle:{color:["rgba(250,250,250,0)","rgba(56,128,255,0.14)"]}}},w={show:!0,position:Object.keys({left:"左方",right:"右方"})[0],type:Object.keys(a)[0],name:"单位：G",nameGap:15,nameLocation:Object.keys(i)[0],axisLabel:{formatter:function(e,t){return e}},splitLine:{show:!0,lineStyle:{color:["#315070"]}}},A=(Object.keys({solid:"实线",dashed:"虚线",dotted:"点"})[0],Object.keys({butt:"方形",round:"圆形",square:"方形+圆形结尾"})[0],Object.keys({bevel:"三角形",round:"扇形",miter:"菱形"})[0],l({show:!0,inside:!1,margin:8},h)),E=(Object(r.merge)({},A,{show:!1}),l({},A,{width:"auto",height:"auto",backgroundColor:"transparent"}),Object.keys({circle:"圆形",rect:"矩形",roundRect:"圆角矩形",triangle:"三角形",diamond:"菱形",pin:"针型",arrow:"箭头",none:"无"})[0],Object.keys(o.e)[0],Object.keys(c)[0],Object.keys(u)[0],{show:!1,type:"line",triggerTooltip:!0,triggerOn:"mousemove|click"}),C={animation:!0,animationThreshold:2e3,animationDuration:1e3,animationDurationUpdate:300,animationEasing:"cubicOut",animationEasingUpdate:"cubicInOut",animationDelay:0,animationDelayUpdate:0}},function(e,t){e.exports=dv.adapter._},function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"f",function(){return o}),n.d(t,"h",function(){return a}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"e",function(){return l}),n.d(t,"g",function(){return s}),n.d(t,"i",function(){return f});var r={plain:"普通图例",scroll:"滚动图例"},o={string:"String",number:"Number",object:"Object"},a={blank:"新窗口打开",self:"当前窗口打开"},i={normal:"普通",italic:"斜体",oblique:"倾斜体"},c={normal:"正常粗细",bold:"加粗",bolder:"较粗",lighter:"较细"},u={horizontal:"水平布局",vertical:"垂直布局"},l={polygon:"多边形",circle:"圆形"},s=["circle","rect","roundRect","triangle","diamond","pin","arrow","none"];function f(e,t){}},function(e,t){e.exports=React},function(e,t){e.exports=dvEditorAdapter.chartPanel},,function(e,t){e.exports=dvEditorAdapter.templates},function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"a",function(){return l});var r=n(1),o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var c=function(e){var t={},n=function(e){if(!e||!e.length)return console.warn("typeof args must be array object[], not empty"),!1;var t=o(e,1)[0];return Object.prototype.toString.call(t).match(/\[object ([A-Z][a-z]+)\]/)[1]}(e);return n?t={series:e,type:n}:t},u=function(e,t){var n=t.classify,r=void 0===n?"name":n,o=t.x,a=void 0===o?"label":o,i=t.y,c=void 0===i?"value":i,u="[object Object]"===Object.prototype.toString.call(e);return e?Array.isArray(e)?e.reduce(function(e,t){var n=e.data,o=void 0===n?[]:n,i=e.xAxis,u=void 0===i?[]:i,l=t[r||"name"]||"",s=t[a||"label"],f=t[c||"value"],p=0;s&&-1===(p=u.findIndex(function(e){return e===s}))&&(p=(u=u.concat([s])).length-1);var d=o.findIndex(function(e){return e.name===l});if(-1===d){var y={name:l,data:[]};y.data[p]=f,o=o.concat([y])}else o[d].data=o[d].data||[],o[d].data[p]=f;return{data:o,xAxis:u}},{}):u?Array.isArray(e.data)?e:e.data:void 0:{}},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return Object.entries(e).forEach(function(e){var n=o(e,2),c=n[0],u=n[1],l=c.split("."),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=((e=e.replace(/\n/g,"")).match(/\(([^\)]*)\)/)[1]||"").split(",").map(function(e){return e.replaceAll(" ","")});return[t.length>1?t:t[0],e.match(/\{([\s\S]*)\}/)[1]||""]}(u),f=o(s,2),p=f[0],d=f[1],y=[p].flat(),b=new(Function.prototype.bind.apply(Function,[null].concat(i(y),[d]))),m=a({},[].concat(i(l)).pop(),b),g=l.slice(0,-1).reverse().reduce(function(e,t){return a({},t,e)},m);t=Object(r.merge)({},t,g)}),t}},function(e,t){e.exports=dv.adapter.echarts},function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"a",function(){return l});var r=n(8),o=n(1),a=n(0),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=i({color:a.e,fontFamily:a.f,lineHeight:a.g},a.i),u=i({backgroundColor:a.c,textStyle:c,legend:i({},a.k,{textStyle:i({},c,{color:a.e}),pageIconColor:a.l,pageIconInactiveColor:a.m,pageTextStyle:{color:a.e}}),xAxis:i({},a.o),title:i({},a.j,{textStyle:c,subtextStyle:c}),tooltip:i({},a.n,{textStyle:c}),grid:i({show:!1},a.h),axisPointer:a.b},a.a),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(o.merge)({},{color:a.d},u,t);return r.init(e,n)}},,function(e,t){e.exports=dvEditorAdapter},,,function(e,t,n){"use strict";n.r(t);var r=n(11),o=n(3),a=n.n(o),i=n(6),c=n(1),u=n(2),l=n(9),s=n(4),f=n(7),p=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));g.call(n);var r=e.options;return n.state={title:r.title,style:r.style,chooseDataName:"",showImageType:!1,imageType:r.imageType,imageTypes:r.imageTypes},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["ComponentOptionsSetting"]),y(t,[{key:"getTabs",value:function(){var e=this,t=Object(c.merge)({},l.b,Object(c.recursionOptions)(this.props.options,!0),Object(f.a)(this.props.options.functions),this.props.options.options),n=t.backgroundColor,r=t.animation,o=t.animationThreshold,i=t.animationDuration,u=t.animationDurationUpdate,p=t.animationEasing,y=t.animationEasingUpdate,b=t.animationDelay,m=t.animationDelayUpdate,g=t.grid,h=void 0===g?{}:g,v=t.title,O=void 0===v?{}:v,j=t.legend,x=void 0===j?{}:j,w=t.tooltip,A=void 0===w?{}:w,E=t.xAxis,C=void 0===E?{}:E,T=t.yAxis,k=void 0===T?{}:T,S=t.color,D=void 0===S?[]:S,P=t.axisPointer,F=void 0===P?{}:P,_=t.series,I=void 0===_?{}:_,B=t.transferXAxisData,K=t.transferSeriesData;console.log(t);var U=d({},h,{color:D,backgroundColor:n,animation:r,animationThreshold:o,animationDuration:i,animationDurationUpdate:u,animationEasing:p,animationEasingUpdate:y,animationDelay:b,animationDelayUpdate:m}),N=Object(f.c)(this.props.data,this.props.component.dataConfig).data,R=void 0===N?[]:N,L=R.map(function(e){return d({},e,{name:e.name||"defaultName",extra:I[e.name||"defaultName"]||{}})});return console.log(this.props,t,R,L,I),{grid:{label:"图表区",content:function(){return a.a.createElement(s.Rect,{visible:!0,values:U,onChange:function(t){return e.updateRectOptions(t)}})}},mainTitle:{label:"主标题",content:function(){return a.a.createElement(s.Title,{grid:!0,visible:!0,align:!0,values:O,onChange:function(t){return e.updateOptionsByKey(t,"title")}})}},subTitle:{label:"副标题",content:function(){return a.a.createElement(s.Title,{keyPrefix:"sub",values:O,onChange:function(t){return e.updateOptionsByKey(t,"title")}})}},legend:{label:"图例",content:function(){return a.a.createElement(s.Legend,{values:x,onChange:function(t){return e.updateOptionsByKey(t,"legend")}})}},tooltip:{label:"提示框",content:function(){return a.a.createElement(s.Tooltip,{values:A,onChange:function(t){return e.updateOptionsByKey(t,"tooltip")}})}},axisPointer:{label:"指示器",content:function(){return a.a.createElement(s.AxisPointer,{values:F,onChange:function(t){return e.updateOptionsByKey(t,"axisPointer")}})}},xAxis:{label:"X轴",content:function(){return a.a.createElement(s.Axis,{type:"x",values:C,onChange:function(t){return e.updateOptionsByKey(t,"xAxis")}})}},yAxis:{label:"Y轴",content:function(){return a.a.createElement(s.Axis,{type:"y",values:k,onChange:function(t){return e.updateOptionsByKey(t,"yAxis")}})}},series:{label:"系列",content:function(){return a.a.createElement(s.Pictorial3DBarChart,{values:I,data:L,onChange:function(t){e.updateOptionsByKey(t,"series")},renderImage:e.otherPanel()})}},extend:{label:"自定义",content:function(){return a.a.createElement(s.Options,{values:t,onChange:function(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e.updateOptionsByKey(d({},t,{replaceAll:r}))}})}},data:{label:"数据",content:function(){return a.a.createElement(s.Data,{values:{transferXAxisData:B,transferSeriesData:K},onChange:function(t){e.updateOptionsByKey(t)}})}}}}},{key:"otherPanel",value:function(){var e=this,t=this.props.options,n=void 0===t?{}:t,r=this.state,o=r.imageType,c=r.imageTypes,l=r.chooseDataName;console.log(n);var s=n.series,f=s[l]&&s[l].symbol;console.log(f,"symbol"),console.log(c,"imageTypes");var p=null;return p=s[l]&&s[l].showImageType?c&&c[o]||null:f||null,u.g.indexOf(f)>-1&&(p=null),a.a.createElement("div",{className:"pictorial3DBarChart"},a.a.createElement(i.UploadImage,{src:p,onChange:function(t){return e.updateOptionsByUpload(t)}}))}}]),t}(),g=function(){var e=this;this.noTabPanelContainerPadding=!0,this.updateOptionsByKey=function(t,n){console.log(t,"options");var r=t.chooseDataName,o=void 0===r?"":r;if(e.setState({chooseDataName:o}),!(o&&Object.keys(t[o]).indexOf("customSymbol")>-1)){o&&Object.keys(t[o]).indexOf("imageType")>-1&&e.setState({imageType:t[o].imageType}),o&&Object.keys(t[o]).indexOf("showImageType")>-1&&e.setState({showImageType:t[o].showImageType});var a=t;n&&(a=b({},n,a)),console.log(a),e.updateOptions(a)}},this.updateOptionsByUpload=function(t){var n=e.state,r=n.imageType,o=n.imageTypes,a=n.showImageType,i=n.chooseDataName;console.log(t,r,o);var c={};a?(e.setState({imageTypes:d({},e.state.imageTypes,b({},r,t))}),c={imageTypes:d({},e.state.imageTypes,b({},r,t)),customSymbol:""}):c={series:b({},i,c={symbol:t,customSymbol:""})},console.log(c,"finallyOption"),e.updateOptions(c)},this.updateRectOptions=function(t){var n=Object.keys(t),r=p(n,1)[0];["color","backgroundColor"].includes(r)||r.startsWith("animation")||(t={grid:t}),e.updateOptionsByKey(t)}},h=m,v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var O=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["ComponentDataSetting"]),v(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.fields,r=t.config,o=t.data;return o&&Array.isArray(o)&&0!==o.length?a.a.createElement("div",null,a.a.createElement(i.FormItem,{label:"数据分组",full:!0},a.a.createElement(i.AutoComplete,{placeholder:"默认读取name字段",dataSource:Object(c.map)(n,function(e){return e.value}),value:r.classify,onChange:function(t){return e.updateConfig({classify:t})}})),a.a.createElement(i.FormItem,{label:"X轴数据",full:!0},a.a.createElement(i.AutoComplete,{placeholder:"默认读取label字段",dataSource:Object(c.map)(n,function(e){return e.value}),value:r.x,onChange:function(t){return e.updateConfig({x:t})}})),a.a.createElement(i.FormItem,{label:"Y轴数据",full:!0},a.a.createElement(i.AutoComplete,{placeholder:"默认读取value字段",dataSource:Object(c.map)(n,function(e){return e.value}),value:r.y,onChange:function(t){return e.updateConfig({y:t})}}))):null}}]),t}();Object(r.registerComponentOptionsSetting)("61cd7a50d1857fd23c9c8bc9","v1.0.0",h),Object(r.registerComponentDataSetting)("61cd7a50d1857fd23c9c8bc9","v1.0.0",O)}]);